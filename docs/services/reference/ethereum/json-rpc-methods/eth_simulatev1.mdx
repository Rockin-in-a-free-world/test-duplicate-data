***

title: Ethereum eth\_simulateV1
sidebar\_label: eth\_simulateV1
description: Simulate transactions across multiple blocks on Ethereum.
----------------------------------------------------------------------

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# `eth_simulateV1`

Simulates transactions across multiple blocks. Allows you to test transactions with custom state and
block parameters without submitting them to the network.

:::info important
This method is only supported on Mainnet and Sepolia.

A maximum of 16 block state calls can be simulated in a single request. This is determined by
assessing the `blockStateCalls` array of objects.
:::

## Parameters

* `BLOCK STATE CALL OBJECT`:
  * `blockStateCalls`: *\[required]* Array of block, state, and call objects:
    * `blockOverrides`:  *\[optional]* Object to override block parameters:
      * `baseFeePerGas`:  (string) Hexadecimal value for the base fee per gas for the block.
      * `blobBaseFee`: (string) Hexadecimal value for the base fee per unit of blob gas.
      * `feeRecipient`: (string) Address of the fee recipient for the block proposal.
      * `gasLimit`: (string) Hexadecimal value that represents the maximum amount of gas that transactions
        are allowed to consume.
      * `number`: (string) Hexadecimal block number.
      * `prevRandao`: (string) The previous value of randomness, which is
        used as a source of randomness for various protocol operations.
      * `time`: (string) Hexadecimal value representing the Unix epoch time in seconds.
    * `stateOverrides`: *\[optional]* Object to override account states:
      * `balance`: (string) Hexadecimal value representing the account balance.
      * `nonce`: (string) Hexadecimal temporary nonce value for the call execution.
      * `code`: (string) Bytecode to inject into the account.
      * `state`: Object of key-value mappings to override all slots in the account storage
        before executing the call.
      * `stateDiff`: Object of key-value mappings to override individual slots in the account
        storage before executing the call.
      * `movePrecompileToAddress`: (string) Moves the precompile to the supplied address.
    * `calls`: *\[required]* Array of transaction call objects:
      * `from`: *\[optional]* 20 bytes - The address the transaction is sent from.
      * `to`: *\[optional]* 20 bytes - The address the transaction is directed to.
      * `gas`: *\[optional]* Hexadecimal value of the gas provided for the transaction execution.
      * `gasPrice`: *\[optional]* Hexadecimal value of the gas price used for each paid gas.
      * `maxPriorityFeePerGas`: *\[optional]* Maximum fee, in wei, the sender is willing to pay per gas above the base fee.
      * `maxFeePerGas`: *\[optional]* Maximum total fee (base fee + priority fee), in wei, the sender is willing to pay per gas.
      * `value`: *\[optional]* Hexadecimal value of the value sent with this transaction.
      * `data`: *\[optional]* Hash of the method signature and encoded parameters. See the
        [Ethereum contract ABI specification](https://docs.soliditylang.org/en/latest/abi-spec.html).
    * `returnFullTransactionObjects`: *\[optional]* Boolean value which when `true`, returns full transaction
      objects, otherwise, just hashes are returned. The default is `false`.
    * `traceTransfers`:  *\[optional]* Boolean value which when `true`, adds ETH transfers as ERC20 transfer
      events to the logs, allowing you to trace value transfers. The default is `false`.
    * `validation`: *\[optional]* Boolean value which when `true`, does all the validation that a
      normal EVM would do, except contract sender and signature checks. When `false`, `eth_simulateV1` behaves like `eth_call`.
      The default is `false`.
  * `blockParameter`: (string) \[*optional*] A hexadecimal block number, or one of the tags `latest`, `earliest`, `pending` or `finalized`. See the [default block parameter](https://ethereum.org/en/developers/docs/apis/json-rpc/#default-block).

## Returns

An array of simulation result objects:

* `baseFeePerGas`: Hexadecimal value for the base fee per gas for the block.
* `blobGasUsed`: Hexadecimal value for the amount of blob gas used.
* `calls`: Array of call results:
  * `returnData`: Data returned for the call.
  * `logs`: Array of logs generated during the call.
    * `address`: Address of the contract that generated the log.
    * `blockHash`: Hash of the block.
    * `blockNumber`: Hexadecimal block number.
    * `data`: Non-indexed log parameters.
    * `logIndex`: Index of the log in the block.
    * `removed`: Whether the log was removed due to chain reorganization.
    * `topics`: Array of indexed log parameters.
    * `transactionHash`: Hash of the transaction.
    * `transactionIndex`: Index of the transaction in the block.
  * `error`: Object containing error information:
    * `message`: The error message.
    * `code`: The error status code.
    * `data`: Error-related information.
  * `gasUsed`: Hexadecimal value representing the amount of gas used.
  * `status`: Status indicating whether the transaction succeeded (`0x1`). `0x0` indicates that a transaction has failed.
* `difficulty`: A hexadecimal of the difficulty for this block.
* `excessBlobGas`: A hexadecimal of the excess blob gas.
* `extraData`: The "extra data" field of this block.
* `gasLimit`: Maximum gas allowed in this block.
* `gasUsed`: Total used gas by all transactions in this block.
* `hash`: Hash of the block. `Null` when the returned block is the pending block.
* `logsBloom`: The bloom filter for the logs of the block. `Null` when the returned block is the pending block.
* `miner`: Address of the beneficiary to whom the mining rewards were given.
* `mixHash`: Hexadecimal mix hash.
* `nonce`: Hash of the generated proof-of-work. `Null` when the returned block is the pending block.
* `number`: Block number. `Null` when the returned block is the pending block.
* `parentBeaconBlockRoot`: Parent beacon block root.
* `parentHash`: Hash of the parent block.
* `receiptsRoot`: The root of the receipts trie of the block. Also see [Tries in Ethereum](https://ethereum.org/en/developers/docs/data-structures-and-encoding/patricia-merkle-trie/#tries-in-ethereum).
* `sha3Uncles`: The SHA3 of the uncles data in the block.
* `size`: A hexadecimal of the size of this block in bytes.
* `stateRoot`: The root of the final state trie of the block.
* `timestamp`: The unix timestamp for when the block was collated.
* `totalDifficulty`: A hexadecimal of the total difficulty of the chain until this block.
* `transactions`: (Array) An array of transaction objects, or 32 bytes transaction hashes depending on the last given parameter.
* `transactionsRoot`: The root of the transaction trie of the block.
* `uncles`: (Array) An array of uncle hashes.
* `withdrawals`: (Array) Withdrawal objects.
* `withdrawalsRoot`: Withdrawals trie root.

## Example

Replace `<YOUR-API-KEY>` with an API key from your [MetaMask Developer dashboard](https://developer.metamask.io/).

### Request

<Tabs>
  <TabItem value="curl">

__CODE_BLOCK_0__

  </TabItem>
  <TabItem value="WSS">

__CODE_BLOCK_1__

  </TabItem>
</Tabs>

### Response

<Tabs>
  <TabItem value="JSON">

__CODE_BLOCK_2__

  </TabItem>
</Tabs>
