# Script Tasks Analysis

## Step 1: Tasks Performed by get-remote.js

### 1. **Remote Content Download**
- **Task**: Download markdown/mdx files from remote GitHub repository
- **Implementation**: Uses `docusaurus-plugin-remote-content` via CLI commands
- **Details**: Downloads multiple content sources (partials, ethereum, linea, base, concepts, get-started, gas-api, ipfs, how-to, tutorials)

### 2. **Image Path Transformation**
- **Task**: Convert relative image paths to Docusaurus static asset paths
- **Implementation**: Custom regex replacement (`../images/...` → `@site/static/img/...`)
- **Details**: Scans all markdown files and rewrites image references

### 3. **Component Import Commenting**
- **Task**: Comment out imports and usage of missing React components
- **Implementation**: Custom regex matching and commenting
- **Details**: 
  - Comments out `import` statements for missing components
  - Comments out JSX usage of missing components
  - Handles plugin constants (e.g., `NETWORK_NAMES`)

### 4. **Link Pattern Replacement**
- **Task**: Replace specific link patterns with placeholders
- **Implementation**: Custom regex replacement
- **Details**: Replaces dashboard links (`/developer-tools/dashboard/...`) with `dashboard/dashboard-placeholder.md`

### 5. **Broken Link Detection & Removal**
- **Task**: Detect and remove broken internal markdown links (keeping text)
- **Implementation**: Custom link validation with context-aware checking
- **Details**:
  - Validates links from multiple contexts (partial's own context + importing file contexts)
  - Strips anchors before checking file existence
  - Handles absolute `/services/` paths
  - Removes link markup but keeps text when broken

### 6. **Frontmatter Title Generation**
- **Task**: Add `title` frontmatter to files missing it
- **Implementation**: Custom filename-to-title conversion
- **Details**:
  - Generates title from filename (e.g., `get-started.md` → "Get Started")
  - For `index.md` files, uses parent directory name
  - Adds `title-autogenerated: T` metadata when title is auto-generated
  - Skips `.mdx` files

### 7. **Warning Metadata Addition**
- **Task**: Add warning metadata to all files indicating source and edit loss
- **Implementation**: Frontmatter injection
- **Details**: Adds `warning: This data is sourced from [repo] all edits to this page will be lost` to all `.md` and `.mdx` files

### 8. **Directory Cleanup**
- **Task**: Remove old/obsolete directories
- **Implementation**: Filesystem operations
- **Details**: Removes `docs/api/` directory if it exists

### 9. **Maintainer Logging**
- **Task**: Generate detailed logs of all fixes applied
- **Implementation**: File writing to `.maintainer-logs/` directory
- **Details**: Creates separate log files for:
  - Image path fixes
  - Component import fixes
  - Broken links removed

---

## Step 2: Docusaurus Plugins That Could Handle These Tasks

### Existing Plugin (Already Used)
- **`docusaurus-plugin-remote-content`**: Handles Task #1 (Remote Content Download)

### Potential Plugins for Other Tasks

#### A. **Markdown Processing/Transformation**
- **`@docusaurus/plugin-content-docs`** (core): Has `remarkPlugins` and `rehypePlugins` options
  - Could handle: Image path transformation, link rewriting, frontmatter injection
  - Requires: Custom remark/rehype plugins

- **`remark-*` plugins** (via remarkPlugins):
  - `remark-frontmatter`: Already built-in, handles frontmatter
  - `remark-gfm`: GitHub Flavored Markdown features
  - Custom remark plugins could handle: Image paths, link patterns, component imports

- **`rehype-*` plugins** (via rehypePlugins):
  - `rehype-slug`: Adds IDs to headings
  - Custom rehype plugins could handle: Link validation, image path rewriting

#### B. **Link Validation**
- **`docusaurus-plugin-content-blog`** has link validation (but only for blog)
- **No dedicated plugin found** for comprehensive link validation
- **Potential**: Custom webpack plugin or build-time script

#### C. **Frontmatter Management**
- **`@docusaurus/plugin-content-docs`**: Has `editUrl` and frontmatter support
- **No dedicated plugin found** for auto-generating titles
- **Potential**: Custom remark plugin or pre-build script

#### D. **File Processing/Transformation**
- **Webpack plugins**: Could intercept file processing during build
- **Custom Docusaurus plugin**: Could hook into `loadContent` lifecycle
- **Potential**: `@docusaurus/plugin-content-docs` with custom `processDocsContent` option

#### E. **Build-time Scripts**
- **`docusaurus-plugin-remote-content`**: Already handles download
- **No standard plugin** for post-download processing
- **Current approach**: Custom Node.js script (most flexible)

---

## Recommendations

### Tasks Best Handled by Plugins:
1. ✅ **Remote Content Download** - Already using `docusaurus-plugin-remote-content`
2. ⚠️ **Image Path Transformation** - Could use custom remark plugin
3. ⚠️ **Link Pattern Replacement** - Could use custom remark plugin
4. ⚠️ **Frontmatter Injection** - Could use custom remark plugin

### Tasks Best Handled by Custom Script:
1. ✅ **Broken Link Detection** - Complex context-aware logic, better as pre-build script
2. ✅ **Component Import Commenting** - Requires file-level analysis, better as script
3. ✅ **Title Generation** - File-level logic, better as script
4. ✅ **Warning Metadata** - Simple but file-level, script is fine
5. ✅ **Directory Cleanup** - Filesystem operations, better as script
6. ✅ **Maintainer Logging** - File writing, better as script

### Hybrid Approach:
- Use **remark plugins** for simple markdown transformations (image paths, link patterns)
- Use **custom script** for complex logic (broken links, component imports, title generation)
- Keep script as orchestrator that runs plugins + custom processing




